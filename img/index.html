<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Tarot Profundo</title>

<style>
body {
  margin: 0;
  font-family: Georgia, serif;
  background: radial-gradient(circle at top, #4b2b63, #1c1026);
  color: #f5e6c8;
  text-align: center;
}

h1 {
  margin-top: 40px;
  font-size: 40px;
}

h2 {
  font-weight: 300;
  margin-bottom: 30px;
}

.container {
  display: flex;
  justify-content: center;
  gap: 30px;
  margin-top: 30px;
}

.card {
  width: 160px;
  height: 280px;
  perspective: 1000px;
  cursor: pointer;
}

.inner {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 1s;
}

.card.flipped .inner {
  transform: rotateY(180deg);
}

.front, .back {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 12px;
  backface-visibility: hidden;
}

.front {
  background: black;
}

.back {
  transform: rotateY(180deg);
  background-size: cover;
  background-position: center;
}

button {
  margin: 40px auto;
  padding: 14px 36px;
  border-radius: 30px;
  border: none;
  background: #e5c07b;
  color: #2c1a3a;
  font-size: 18px;
  cursor: pointer;
}

.footer {
  margin-top: 20px;
  font-size: 14px;
  opacity: 0.8;
}

.texto {
  max-width: 600px;
  margin: 25px auto;
  font-size: 18px;
  line-height: 1.6;
}
</style>
</head>

<body>

<h1>Tarot Profundo</h1>
<h2>Elegí tres cartas y dejá que hablen.</h2>

<div class="container">
  <div class="card" onclick="revelar(0)">
    <div class="inner" id="card0">
      <div class="front"></div>
      <div class="back" id="img0"></div>
    </div>
  </div>

  <div class="card" onclick="revelar(1)">
    <div class="inner" id="card1">
      <div class="front"></div>
      <div class="back" id="img1"></div>
    </div>
  </div>

  <div class="card" onclick="revelar(2)">
    <div class="inner" id="card2">
      <div class="front"></div>
      <div class="back" id="img2"></div>
    </div>
  </div>
</div>

<button onclick="nuevaTirada()">Nueva tirada</button>

<div class="texto" id="texto"></div>

<div class="footer">✨ Escuchá lo que tu alma ya sabe ✨</div>

<audio id="shuffle" src="img/shuffle.mp3"></audio>

<script>
const cartas = [
  {
    nombre: "El Loco",
    img: "img/loco.png",
    texto: "No sabés exactamente qué estás haciendo, pero algo dentro tuyo ya dio el paso. El Loco aparece cuando la vida pide movimiento, no certezas. No es inconsciencia: es coraje. Si esperás estar lista, no salís nunca. Si avanzás ahora, algo verdadero empieza."
  }
];

let seleccionadas = [];

function nuevaTirada() {
  document.getElementById("shuffle").play();

  seleccionadas = [];
  document.getElementById("texto").innerHTML = "";

  for (let i = 0; i < 3; i++) {
    const card = document.getElementById("card" + i);
    card.classList.remove("flipped");
  }

  setTimeout(() => {
    const mezcladas = [...cartas].sort(() => Math.random() - 0.5);
    seleccionadas = mezcladas.slice(0, 3);

    seleccionadas.forEach((carta, i) => {
      document.getElementById("img" + i).style.backgroundImage = `url('${carta.img}')`;
    });
  }, 600);
}

function revelar(i) {
  const card = document.getElementById("card" + i);
  if (!card.classList.contains("flipped")) {
    card.classList.add("flipped");
    if (seleccionadas[i]) {
      document.getElementById("texto").innerHTML +=
        `<p><b>${seleccionadas[i].nombre}</b><br>${seleccionadas[i].texto}</p>`;
    }
  }
}
</script>

</body>
</html>
