<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tarot Profundo</title>

<style>
body {
  margin: 0;
  font-family: Georgia, serif;
  background: radial-gradient(circle at top, #4b2a6b, #2a143f);
  color: #f3e7c3;
  text-align: center;
}

h1 { margin-top: 30px; font-size: 40px; }
h2 { font-weight: normal; margin-bottom: 30px; }

.cards {
  display: flex;
  justify-content: center;
  gap: 24px;
}

.card {
  width: 180px;
  height: 320px;
  perspective: 1200px;
}

.card-inner {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.8s ease;
}

.card.flip .card-inner {
  transform: rotateY(180deg);
}

.face {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 14px;
  background-size: cover;
  background-position: center;
}

.back {
  background: linear-gradient(135deg, #2a143f, #000);
}

.front {
  transform: rotateY(180deg);
}

button {
  margin: 18px auto;
  padding: 14px 36px;
  font-size: 18px;
  border-radius: 30px;
  border: none;
  background: #e7c97a;
  cursor: pointer;
}

#payBtn {
  display: none;
  background: #d4a84f;
}

.prediction {
  max-width: 760px;
  margin: 20px auto 40px;
  font-size: 20px;
  line-height: 1.6;
}
</style>
</head>

<body>

<h1>Tarot Profundo</h1>
<h2>Dejá que las cartas hablen.</h2>

<div class="cards">
  <div class="card"><div class="card-inner"><div class="face back"></div><div class="face front" id="c1"></div></div></div>
  <div class="card"><div class="card-inner"><div class="face back"></div><div class="face front" id="c2"></div></div></div>
  <div class="card"><div class="card-inner"><div class="face back"></div><div class="face front" id="c3"></div></div></div>
</div>

<button onclick="nuevaTirada()">Nueva tirada</button>
<button id="payBtn" onclick="desbloquear()">Desbloquear lectura</button>

<div class="prediction" id="texto"></div>

<script>
const cartas = [
{nombre:"El Loco",img:"loco.png",textos:["No esperes seguridad. Saltá.","Esto no se piensa, se hace.","El salto ya está hecho."]},
{nombre:"El Mago",img:"mago.png",textos:["Tenés todo lo que necesitás.","No esperes permiso.","El poder ya está en tus manos."]},
{nombre:"La Sacerdotisa",img:"sacerdotisa.png",textos:["Callá y observá.","Todavía falta información.","No apures."]},
{nombre:"La Emperatriz",img:"emperatriz.png",textos:["Algo está creciendo.","Cuidá lo que gestás.","No fuerces tiempos."]},
{nombre:"El Emperador",img:"emperador.png",textos:["Poné orden.","Hacete cargo.","Tomá control."]},
{nombre:"El Hierofante",img:"hierofante.png",textos:["Escuchá consejo.","No todo se inventa.","Hay algo para aprender."]},
{nombre:"Los Enamorados",img:"enamorados.png",textos:["Elegí.","Decidir implica perder.","No esquives la decisión."]},
{nombre:"El Carro",img:"carro.png",textos:["Avanzá.","No mires atrás.","Esto se empuja."]},
{nombre:"La Fuerza",img:"fuerza.png",textos:["Control interno.","No reacciones.","Dominá sin imponer."]},
{nombre:"El Ermitaño",img:"ermitano.png",textos:["Frená.","Buscá adentro.","Alejate del ruido."]},
{nombre:"La Rueda de la Fortuna",img:"rueda.png",textos:["Esto cambia.","Adaptate.","No controles."]},
{nombre:"La Justicia",img:"justicia.png",textos:["Todo tiene consecuencia.","Hacete cargo.","No hay atajos."]},
{nombre:"El Colgado",img:"colgado.png",textos:["Soltá.","Mirá distinto.","Pará de forzar."]},
{nombre:"La Muerte",img:"muerte.png",textos:["Corte necesario.","Esto se termina.","No lo arrastres."]},
{nombre:"La Templanza",img:"templanza.png",textos:["Equilibrá.","Dosificá.","Nada extremo."]},
{nombre:"El Diablo",img:"diablo.png",textos:["Atadura.","Dependencia.","Algo te maneja."]},
{nombre:"La Torre",img:"torre.png",textos:["Se cae.","No se sostiene.","Lo falso explota."]},
{nombre:"La Estrella",img:"estrella.png",textos:["Hay salida.","Calma.","Volvé a confiar."]},
{nombre:"La Luna",img:"luna.png",textos:["Confusión.","Autoengaño.","Esperá claridad."]},
{nombre:"El Sol",img:"sol.png",textos:["Claridad.","Disfrute.","Todo se muestra."]},
{nombre:"El Juicio",img:"juicio.png",textos:["Llamado interno.","Despertar.","No mires al costado."]},
{nombre:"El Mundo",img:"mundo.png",textos:["Cierre.","Logro.","Etapa cumplida."]}
];

function mezclar(arr){ return [...arr].sort(()=>Math.random()-0.5); }

function nuevaTirada(){
  const sel = mezclar(cartas).slice(0,3);
  window.tiradaActual = sel;

  const cards = document.querySelectorAll(".card");
  const texto = document.getElementById("texto");
  const payBtn = document.getElementById("payBtn");

  texto.innerHTML = "<p><em>Lectura bloqueada.</em></p>";
  payBtn.style.display = "inline-block";

  cards.forEach((c,i)=>{
    c.classList.remove("flip");
    const front = document.getElementById("c"+(i+1));
    front.style.backgroundImage="";
    setTimeout(()=>{
      front.style.backgroundImage = `url('img/${sel[i].img}')`;
      c.classList.add("flip");
    },300+i*600);
  });
}

function desbloquear(){
  const texto = document.getElementById("texto");
  const payBtn = document.getElementById("payBtn");

  texto.innerHTML = "";
  window.tiradaActual.forEach(c=>{
    const frase = c.textos[Math.floor(Math.random()*c.textos.length)];
    texto.innerHTML += `<p><strong>${c.nombre}:</strong> ${frase}</p>`;
  });

  payBtn.style.display = "none";
}
</script>

</body>
</html>
