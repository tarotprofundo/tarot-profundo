<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tarot Profundo</title>

<style>
body {
  margin: 0;
  font-family: Georgia, serif;
  background: linear-gradient(180deg, #2b133f, #3a1c55);
  color: #f5e9c6;
  text-align: center;
}

h1 {
  margin-top: 30px;
  font-size: 36px;
}

h2 {
  font-weight: normal;
  margin-bottom: 30px;
}

.cards {
  display: flex;
  justify-content: center;
  gap: 18px;
  margin-bottom: 20px;
}

.card {
  width: 150px;
  height: 280px;
  perspective: 1000px;
}

.card-inner {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.9s ease;
}

.card.flip .card-inner {
  transform: rotateY(180deg);
}

.card-face {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 12px;
  overflow: hidden;
}

.card-front {
  background: url("img/reverso.png") center/cover no-repeat;
}

.card-back {
  transform: rotateY(180deg);
  background: #1e0f2d;
}

.card-back::before {
  content: "";
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center;
  filter: blur(22px) brightness(0.75) contrast(1.2);
  transform: scale(1.1);
}

button {
  margin: 25px;
  padding: 12px 26px;
  font-size: 18px;
  border-radius: 30px;
  border: none;
  background: #d4b26a;
  color: #2b1b3a;
  cursor: pointer;
}

button:hover {
  background: #e6c97d;
}

.messages {
  max-width: 700px;
  margin: 30px auto;
  font-size: 18px;
  line-height: 1.6;
  padding: 0 20px;
}

.pay-button {
  display: inline-block;
  margin: 30px auto;
  padding: 14px 28px;
  background: #d4b26a;
  color: #2b1b3a;
  font-size: 18px;
  font-weight: bold;
  text-decoration: none;
  border-radius: 30px;
}
</style>
</head>

<body>

<h1>Tarot Profundo</h1>
<h2>Las cartas ya hablaron. Falta entenderlas.</h2>

<div class="cards">
  <div class="card"><div class="card-inner"><div class="card-face card-front"></div><div class="card-face card-back"></div></div></div>
  <div class="card"><div class="card-inner"><div class="card-face card-front"></div><div class="card-face card-back"></div></div></div>
  <div class="card"><div class="card-inner"><div class="card-face card-front"></div><div class="card-face card-back"></div></div></div>
</div>

<button onclick="newReading()">Nueva tirada</button>

<div class="messages" id="messages"></div>

<a href="https://go.hotmart.com/N103824307K" target="_blank" class="pay-button">
ðŸ”“ Desbloquear lectura profunda
</a>

<script>
const deck = [
  { name:"El Loco", img:"img/loco.png", reading:"Esta carta aparece cuando estÃ¡s mÃ¡s libre de lo que creÃ©s, pero tambiÃ©n mÃ¡s expuesta." },
  { name:"El Mago", img:"img/mago.png", reading:"TenÃ©s recursos, pero no los estÃ¡s usando del todo." },
  { name:"La Sacerdotisa", img:"img/Sacerdotisa.png", reading:"Esta carta no pide acciÃ³n, pide silencio interno." },
  { name:"El ErmitaÃ±o", img:"img/ermitano.png", reading:"El afuera ya no responde. Es retiro consciente." },
  { name:"La Emperatriz", img:"img/emperatriz.png", reading:"Hay algo que quiere crecer, pero necesita espacio." },
  { name:"El Emperador", img:"img/emperador.png", reading:"Orden y claridad. Sostener una decisiÃ³n." }
];

let locked = false;

function newReading() {
  if (locked) return;
  locked = true;

  const cards = document.querySelectorAll(".card");
  const messages = document.getElementById("messages");

  const shuffled = [...deck].sort(() => Math.random() - 0.5).slice(0, 3);

  messages.innerHTML = `
    <h3>${shuffled[0].name}</h3>
    <p>${shuffled[0].reading}</p>
    <p><em>La lectura completa analiza cÃ³mo se relacionan las tres cartas.</em></p>
  `;

  cards.forEach(card => {
    card.classList.remove("flip");
    card.querySelector(".card-back").style.setProperty("--img", "");
    card.querySelector(".card-back").style.backgroundImage = "";
  });

  setTimeout(() => {
    cards.forEach((card, i) => {
      setTimeout(() => {
        card.querySelector(".card-back").style.backgroundImage =
          `url('${shuffled[i].img}')`;
        card.classList.add("flip");
        if (i === 2) locked = false;
      }, i * 500);
    });
  }, 400);
}
</script>

</body>
</html>
